I"W<p>当使用 Weblogic 作为中间件，并且 Web 项目部署方式为 war 包部署时，jsp 页面<code class="highlighter-rouge">request.getContextPath()</code> 将返回 null，此时加入以下代码设置 <code class="highlighter-rouge">webRoot</code> 即可：</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">String</span> <span class="n">webRoot</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getSession</span><span class="o">().</span><span class="na">getServletContext</span><span class="o">().</span><span class="na">getRealPath</span><span class="o">(</span><span class="s">"/"</span><span class="o">);</span>
<span class="k">if</span><span class="o">(</span><span class="n">webRoot</span> <span class="o">==</span> <span class="kc">null</span><span class="o">){</span>
    <span class="n">webRoot</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">getClassLoader</span><span class="o">().</span><span class="na">getResource</span><span class="o">(</span><span class="s">"/"</span><span class="o">).</span><span class="na">getPath</span><span class="o">();</span>
    <span class="n">webRoot</span> <span class="o">=</span> <span class="n">webRoot</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="n">webRoot</span><span class="o">.</span><span class="na">indexOf</span><span class="o">(</span><span class="s">"WEB-INF"</span><span class="o">));</span>
<span class="o">}</span>
</code></pre></div></div>
<p>转载请注明出处，本文采用 <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/">CC4.0</a> 协议授权</p>
:ET